(this.webpackJsonptask_manager=this.webpackJsonptask_manager||[]).push([[0],{66:function(e,t,s){},68:function(e,t,s){},87:function(e,t,s){},88:function(e,t,s){},89:function(e,t,s){},94:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s.n(a),r=s(26),i=s.n(r),c=s(41),o=s(8),l=s(9),h=s(11),u=s(10),d=s(98),p=s(40),j=s(3),k=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(j.jsxs)(p.a,{id:"navbar",bg:"light",variant:"light",children:[Object(j.jsx)(p.a.Brand,{href:"#home",children:"Tasks Manager"}),window.screen.width<900&&Object(j.jsxs)(d.a,{className:"mr-auto",children:[Object(j.jsx)(d.a.Link,{href:"/tasks/inprogress",children:"in progress"}),Object(j.jsx)(d.a.Link,{href:"/tasks/completed",children:"completed"})]})]})}}]),s}(n.a.Component),b=document.getElementById("navbar"),m=0;document.addEventListener("scroll",(function(){var e=document.documentElement.scrollTop;null!==b&&(console.log(b),m<e?b.classList.add("hidden"):b.classList.remove("hidden")),m=e}));s(66);var f,v=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(j.jsx)("div",{className:"footer",children:Object(j.jsx)("p",{children:"\xa9 2021 Task manager"})})}}]),s}(a.Component),O=s(56),y=s(36),g=s(6),x=s(37),T=s.n(x),w=s(53),C=s(57),S=s(31),N=s(54),_=(s(68),s(19)),D=s.n(_),M=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={taskDescription:""},e.inputNewTask=void 0,e.handleTaskChange=function(t){e.setState({taskDescription:t.target.value})},e}return Object(l.a)(s,[{key:"addNewTask",value:function(){var e=this;""!==this.state.taskDescription&&D.a.post("/TASK",{description:this.state.taskDescription,createdAt:Date.now()}).then((function(t){e.props.onCreatedTask(t.data),e.inputNewTask.value="",e.setState({taskDescription:""})})).catch((function(t){e.props.onErrorChild(t)}))}},{key:"render",value:function(){var e=this;return Object(j.jsx)("div",{className:"form_new_tasks_container",children:Object(j.jsxs)(S.a,{className:"form_new_tasks",children:[Object(j.jsx)(S.a.Group,{className:"new_tasks_input",children:Object(j.jsx)(S.a.Control,{ref:function(t){return e.inputNewTask=t},placeholder:"Enter your new task",onChange:this.handleTaskChange})}),Object(j.jsx)(N.a,{className:"new_tasks_button",variant:"primary",onClick:function(){return e.addNewTask()},children:"Create"})]})})}}]),s}(a.Component),F=s(96),A=(s(87),s(97)),E=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"changeStateTask",value:function(e){e.isComplete=!e.isComplete,this.props.onUpdateTask(e)}},{key:"deleteCompletedTasks",value:function(){this.props.onDeleteTasks()}},{key:"render",value:function(){var e=this;return Object(j.jsxs)("div",{className:"tasks_manager",children:[Object(j.jsxs)(F.a,{className:"tasks_title_container",children:["false"===this.props.taskState&&Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"Tasks in progress"})}),"true"===this.props.taskState&&Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Tasks done"}),Object(j.jsx)("p",{children:Object(j.jsx)(N.a,{variant:"primary",onClick:function(){return e.deleteCompletedTasks()},children:"Clear all"})})]})]}),Object(j.jsxs)(A.a,{striped:!0,bordered:!0,hover:!0,className:"tasks_manager_table",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Description"}),Object(j.jsx)("th",{children:"Created at"}),Object(j.jsx)("th",{children:"State"})]})}),Object(j.jsx)("tbody",{children:this.props.tasks.map((function(t){return t.isComplete.toString()===e.props.taskState?Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:t.description}),Object(j.jsx)("td",{children:new Date(t.createdAt).toUTCString()}),Object(j.jsx)("td",{children:Object(j.jsx)("input",{type:"checkbox",defaultChecked:t.isComplete,onChange:function(){return e.changeStateTask(t)}})})]},t.id):null}))})]})]})}}]),s}(a.Component),B=(s(88),s(99)),L=(s(89),function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={hideTime:4e3,visibility:!1,type:"",message:"",mouseOver:!1},e.setMouseover=function(t){e.setState({mouseOver:t})},e.onHoverLeave=function(){e.setMouseover(!1),setTimeout((function(){e.state.mouseOver||e.setState({visibility:!1})}),e.state.hideTime/2)},e.setVisibility=function(t){e.setState({visibility:t})},e}return Object(l.a)(s,[{key:"sendFlashMessage",value:function(e,t){var s=this;this.setState({visibility:!0,type:t,message:e}),setTimeout((function(){s.state.mouseOver||s.setState({visibility:!1})}),this.state.hideTime)}},{key:"render",value:function(){var e=this;return Object(j.jsx)("div",{onMouseEnter:function(){return e.setMouseover(!0)},onMouseLeave:function(){return e.onHoverLeave()},className:"flash_messages_container",children:!0===this.state.visibility&&Object(j.jsxs)(B.a,{onClose:function(){return e.setVisibility(!1)},variant:this.state.type,dismissible:!0,children:[Object(j.jsx)(B.a.Heading,{className:"flash_message_title",children:this.state.type}),Object(j.jsx)("p",{children:this.state.message})]})})}}]),s}(a.Component));!function(e){e.primary="primary",e.warning="warning",e.success="success"}(f||(f={}));var U,H=f;!function(e){e.all="all",e.completed="completed",e.inprogress="inprogress"}(U||(U={}));var K=U,R=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).state={tasks:Array(),tasksType:K.all},a.childFlash=void 0,a.addTask=function(e){a.state.tasks.push(e),a.setState({tasks:a.sortByDate(a.state.tasks)}),a.setNewFlashMessage("task ".concat(e.description," successfully added"),H.success)},a.updateTask=function(e){D.a.put("/TASK/"+e.id,{isComplete:e.isComplete,description:e.description}).then((function(e){for(var t=e.data,s=0;s<a.state.tasks.length;s++)if(t.id===a.state.tasks[s].id){var n=Object(C.a)(a.state.tasks);n[s]=t,a.setState({tasks:a.sortByDate(n)}),a.setNewFlashMessage("task ".concat(t.description," has been updated"),H.success)}}))},a.deleteTasks=function(){var e=[];a.state.tasks.forEach((function(t){!0===t.isComplete&&D.a.delete("/TASK/"+t.id).then((function(s){e=a.state.tasks.filter((function(e){return e.id!==t.id})),a.setState({tasks:a.sortByDate(e)}),a.setNewFlashMessage("task successfully deleted",H.success)})).catch((function(e){a.setNewFlashMessage(e.response.data,H.warning)}))}))},a.onErrorChild=function(e){void 0!==e.response&&a.setNewFlashMessage(e.response.data,H.warning)},a.childFlash=n.a.createRef(),a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.setSetupRoutes(),"/"!==this.props.match.path&&this.getAllTasks().then((function(t){e.setState({tasks:e.sortByDate(e.state.tasks)})}))}},{key:"setSetupRoutes",value:function(){var e;"/"===this.props.match.path&&(e=window.screen.width>900?K.all:K.inprogress,this.props.history.push({pathname:Object(g.e)("/tasks/:tasksType",{tasksType:e})}))}},{key:"getAllTasks",value:function(){var e=Object(w.a)(T.a.mark((function e(){var t=this;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/TASK").then((function(e){return e.data.reverse().forEach((function(e){t.state.tasks.push(e)})),t.sortByDate(t.state.tasks)})).catch((function(e){t.setNewFlashMessage(e.response.data,H.warning)}));case 2:return e.abrupt("return",[]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"sortByDate",value:function(e){return e.sort((function(e,t){return new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()}))}},{key:"setNewFlashMessage",value:function(e,t){this.childFlash.current&&this.childFlash.current.sendFlashMessage(e,t)}},{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)(L,{ref:this.childFlash}),Object(j.jsxs)("div",{className:"tasks_managers_container",children:[(this.props.match.params.tasksType===K.all||this.props.match.params.tasksType===K.inprogress)&&Object(j.jsx)(M,{onCreatedTask:this.addTask,onErrorChild:this.onErrorChild}),Object(j.jsxs)("div",{className:"tasks_managers",children:[(this.props.match.params.tasksType===K.all||this.props.match.params.tasksType===K.inprogress)&&Object(j.jsx)(E,{tasks:this.state.tasks,onUpdateTask:this.updateTask,onDeleteTasks:this.deleteTasks,taskState:"false"}),(this.props.match.params.tasksType===K.all||this.props.match.params.tasksType===K.completed)&&Object(j.jsx)(E,{tasks:this.state.tasks,onUpdateTask:this.updateTask,onDeleteTasks:this.deleteTasks,taskState:"true"})]})]})]})}}]),s}(n.a.Component),I=[{path:"/",name:"Home Page",component:R,exact:!0},{path:"/tasks/:tasksType",name:"Tasks Page",component:R,exact:!0}];D.a.defaults.baseURL="https://6091661250c25500176781bb.mockapi.io";var J=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(j.jsx)("div",{children:Object(j.jsxs)(y.a,{children:[Object(j.jsx)(k,{}),Object(j.jsx)(O.a,{className:"mt-5 mb-5",children:Object(j.jsx)(g.c,{children:I.map((function(e,t){return Object(j.jsx)(g.a,{path:e.path,exact:e.exact,render:function(t){return Object(j.jsx)(e.component,Object(c.a)(Object(c.a)({name:e.name},t),e.props))}},t)}))})}),Object(j.jsx)(v,{})]})})}}]),s}(n.a.Component);s(93);i.a.render(n.a.createElement(J),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.49752d85.chunk.js.map